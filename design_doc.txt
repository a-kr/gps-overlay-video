Нужно написать программу, которая берёт GPX-файл с активностью и генерирует на его основе прозрачное оверлей-видео с картой, на которой виден маршрут.

Параметры программы (указываются опциями командной строки):

* временные метки начала и конца обрабатываемого фрагмента GPX-файла (дата-время в формате ISO-8601 либо смещения в секундах от активности), по умолчанию активность целиком
* размер генерируемого видео (ширина x высота)
* параметры кодирования видео (битрейт кодека)
* масштаб отображаемой карты
* размеры виджета с картой в пикселях

Видео генерируется такой же длины, что и активность в GPX-файле (либо выбранный её фрагмент). Каждый кадр видео должен отображать позицию на карте, соответствующую текущим координатам в активности.

Карта рисуется кружком, в центре которого находится точка, соответствующая текущим координатам (подобно мини-картам в видеоиграх). Карта рисуется с определённым масштабом: по умолчанию диаметр отображаемой в кружке части карты = 1 километр. При передвижении по ходу активности видимая часть карты смещается в кружке.

Карта рисуется по данным OpenStreetMap. Поверх рисуется пройдённая часть маршрута из GPX, яркой жирной линией.

Данные (тайлы) из OpenStreetMap загружай и закешируй в локальной директории.

Под картой дополнительно нужно отображать несколько числовых индикаторов:

1) пройденное расстояние (км)
2) текущая скорость (км/ч)
3) текущий уклон (slope) (%)

Видео нужно сохранять в формате MP4 с кодеком h264. Желательно выполнять кодирование видео параллельно с генерацией, и не создавать промежуточный несжатый видеофайл размером с весь маршрут (несжатые промежуточные фрагменты по одной-две минуты норм).

Реализуй программу как скрипт командной строки на языке Python.

Показывай прогресс-бары во время загрузки данных карты и при генерации видео, с оценкой оставшегося времени.
